<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>@azure/keyvault-keys</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">@azure/keyvault-keys</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1> @azure/keyvault-keys</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#azure-key-vault-keys-client-library-for-js" id="azure-key-vault-keys-client-library-for-js" style="color: inherit; text-decoration: none;">
					<h1>Azure Key Vault Keys client library for JS</h1>
				</a>
				<p>Azure Key Vault is a service that allows you to encrypt authentication
					keys, storage account keys, data encryption keys, .pfx files, and
					passwords by using keys that are protected by hardware security
					modules (HSMs). If you would like to know more about Azure Key Vault, you may
				want to review <a href="https://docs.microsoft.com/en-us/azure/key-vault/key-vault-overview">What is Azure Key Vault?</a>.</p>
				<p>Azure Key Vault Key management allows you to create and control
				encryption keys that encrypt your data.</p>
				<p>Use the client library for Azure Key Vault Keys in your Node.js application to</p>
				<ul>
					<li>Create keys (EC, EC-HSM, RSA, RSA-HSM).</li>
					<li>Import keys.</li>
					<li>Delete keys.</li>
					<li>Update keys.</li>
					<li>Get one or more keys.</li>
					<li>Get one or more deleted keys.</li>
					<li>Recover a deleted key.</li>
					<li>Restore a backed up key.</li>
					<li>Get the versions of a key.</li>
					<li>As well as obtaining the attributes of a key.</li>
				</ul>
				<p>Using the cryptography client available in this library you also have access to</p>
				<ul>
					<li>Encrypting</li>
					<li>Decrypting</li>
					<li>Signing</li>
					<li>Verifying</li>
					<li>Wrapping keys</li>
					<li>Unwrapping keys</li>
				</ul>
				<p><strong>Please Note:</strong> This is a preview version of the Key Vault Keys library</p>
				<p><a href="https://github.com/Azure/azure-sdk-for-js/tree/master/sdk/keyvault/keyvault-keys">Source code</a> | <a href="https://www.npmjs.com/package/@azure/keyvault-keys">Package (npm)</a> | <a href="https://azure.github.io/azure-sdk-for-js/keyvault-keys">API Reference Documentation</a> | <a href="https://azure.microsoft.com/en-us/services/key-vault/">Product documentation</a> | <a href="https://github.com/Azure/azure-sdk-for-js/tree/master/sdk/keyvault/keyvault-keys/samples">Samples</a></p>
				<a href="#getting-started" id="getting-started" style="color: inherit; text-decoration: none;">
					<h2>Getting started</h2>
				</a>
				<a href="#install-the-package" id="install-the-package" style="color: inherit; text-decoration: none;">
					<h3>Install the package</h3>
				</a>
				<p>Install the Azure Key Vault Keys client library using npm</p>
				<p><code>npm install @azure/keyvault-keys</code></p>
				<p><strong>Prerequisites</strong>: You must have an <a href="https://azure.microsoft.com/free/">Azure subscription</a> and a
					<a href="https://docs.microsoft.com/en-us/azure/key-vault/quick-create-portal">Key Vault resource</a> to use this package.
				If you are using this package in a Node.js application, then use Node.js 6.x or higher.</p>
				<a href="#configure-typescript" id="configure-typescript" style="color: inherit; text-decoration: none;">
					<h3>Configure Typescript</h3>
				</a>
				<p>TypeScript users need to have Node type definitions installed:</p>
				<pre><code class="language-bash">npm install @types/node</code></pre>
				<p>You also need to enable <code>compilerOptions.allowSyntheticDefaultImports</code> in your tsconfig.json. Note that if you have enabled <code>compilerOptions.esModuleInterop</code>, <code>allowSyntheticDefaultImports</code> is enabled by default. See <a href="https://www.typescriptlang.org/docs/handbook/compiler-options.html">TypeScript&#39;s compiler options handbook</a> for more information.</p>
				<a href="#configuring-your-key-vault" id="configuring-your-key-vault" style="color: inherit; text-decoration: none;">
					<h3>Configuring your Key Vault</h3>
				</a>
				<p>Use the <a href="https://shell.azure.com/bash">Azure Cloud Shell</a> snippet below to create/get client secret credentials.</p>
				<ul>
					<li><p>Create a service principal and configure its access to Azure resources:</p>
						<pre><code class="language-Bash">az ad sp create-for-rbac -n &lt;your-application-name&gt; --skip-assignment</code></pre>
						<p>Output:</p>
						<pre><code class="language-json">{
  <span class="hljs-attr">"appId"</span>: <span class="hljs-string">"generated-app-ID"</span>,
  <span class="hljs-attr">"displayName"</span>: <span class="hljs-string">"dummy-app-name"</span>,
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"http://dummy-app-name"</span>,
  <span class="hljs-attr">"password"</span>: <span class="hljs-string">"random-password"</span>,
  <span class="hljs-attr">"tenant"</span>: <span class="hljs-string">"tenant-ID"</span>
}</code></pre>
					</li>
					<li><p>Use the above returned credentials information to set <strong>AZURE_CLIENT_ID</strong>(appId), <strong>AZURE_CLIENT_SECRET</strong>(password) and <strong>AZURE_TENANT_ID</strong>(tenant) environment variables. The following example shows a way to do this in Bash:</p>
						<pre><code class="language-Bash">  <span class="hljs-built_in">export</span> AZURE_CLIENT_ID=<span class="hljs-string">"generated-app-ID"</span>
  <span class="hljs-built_in">export</span> AZURE_CLIENT_SECRET=<span class="hljs-string">"random-password"</span>
  <span class="hljs-built_in">export</span> AZURE_TENANT_ID=<span class="hljs-string">"tenant-ID"</span></code></pre>
					</li>
					<li><p>Grant the above mentioned application authorization to perform secret operations on the keyvault:</p>
						<pre><code class="language-Bash">az keyvault <span class="hljs-built_in">set</span>-policy --name &lt;your-key-vault-name&gt; --spn <span class="hljs-variable">$AZURE_CLIENT_ID</span> --secret-permissions backup delete get list create</code></pre>
						<blockquote>
							<p>--secret-permissions:
							Accepted values: backup, delete, get, list, purge, recover, restore, create</p>
						</blockquote>
					</li>
					<li><p>Use the above mentioned Key Vault name to retrieve details of your Vault which also contains your Key Vault URL:</p>
						<pre><code class="language-Bash">az keyvault show --name &lt;your-key-vault-name&gt;</code></pre>
					</li>
				</ul>
				<a href="#key-concepts" id="key-concepts" style="color: inherit; text-decoration: none;">
					<h2>Key concepts</h2>
				</a>
				<ul>
					<li>The <strong>Keys client</strong> is the primary interface to interact with the API methods
						related to keys in the Azure Key Vault API from a JavaScript application.
						Once initialized, it provides a basic set of methods that can be used to
					create, read, update and delete keys.</li>
					<li>A <strong>Key version</strong> is a version of a key in the Key Vault.
						Each time a user assigns a value to a unique key name, a new <strong>version</strong>
						of that key is created. Retrieving a key by a name will always return
						the latest value assigned, unless a specific version is provided to the
					query.</li>
					<li><strong>Soft delete</strong> allows Key Vaults to support deletion and purging as two
						separate steps, so deleted keys are not immediately lost. This only happens if the Key Vault
						has <a href="https://docs.microsoft.com/en-us/azure/key-vault/key-vault-ovw-soft-delete">soft-delete</a>
					enabled.</li>
					<li>A <strong>Key backup</strong> can be generated from any created key. These backups come as
					binary data, and can only be used to regenerate a previously deleted key.</li>
					<li>The <strong>Cryptography client</strong> is a separate interface that interacts with the
						keys API methods in the Key Vault API, ## Authenticating the client. This
						client focuses only in the cryptography operations that can be executed using
						a key that has been already created in the Key Vault. More about this client
					in the <a href="#cryptography">Cryptography</a> section.</li>
				</ul>
				<p>To use the key vault from TypeScript/JavaScript, you need to first authenticate with the key vault service. To authenticate, first we import the identity and KeysClient, which will connect to the key vault.</p>
				<pre><code class="language-typescript"><span class="hljs-keyword">import</span> { DefaultAzureCredential } <span class="hljs-keyword">from</span> <span class="hljs-string">"@azure/identity"</span>;
<span class="hljs-keyword">import</span> { KeysClient } <span class="hljs-keyword">from</span> <span class="hljs-string">"@azure/keyvault-keys"</span>;</code></pre>
				<p>Once these are imported, we can next connect to the key vault service. To do this, we&#39;ll need to copy some settings from the key vault we are connecting to into our environment variables. Once they are in our environment, we can access them with the following code:</p>
				<pre><code class="language-typescript"><span class="hljs-comment">// DefaultAzureCredential expects the following three environment variables:</span>
<span class="hljs-comment">// * AZURE_TENANT_ID: The tenant ID in Azure Active Directory</span>
<span class="hljs-comment">// * AZURE_CLIENT_ID: The application (client) ID registered in the AAD tenant</span>
<span class="hljs-comment">// * AZURE_CLIENT_SECRET: The client secret for the registered application</span>
<span class="hljs-keyword">const</span> credential = <span class="hljs-keyword">new</span> DefaultAzureCredential();

<span class="hljs-comment">// Build the URL to reach your key vault</span>
<span class="hljs-keyword">const</span> vaultName = <span class="hljs-string">"&lt;YOUR KEYVAULT NAME&gt;"</span>;
<span class="hljs-keyword">const</span> url = <span class="hljs-string">`https://<span class="hljs-subst">${vaultName}</span>.vault.azure.net`</span>;

<span class="hljs-comment">// Lastly, create our keys client and connect to the service</span>
<span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> KeysClient(url, credential);</code></pre>
				<a href="#examples" id="examples" style="color: inherit; text-decoration: none;">
					<h2>Examples</h2>
				</a>
				<p>The following sections provide code snippets that cover some of the common
				tasks using Azure Key Vault Keys. The scenarios that are covered here consist of:</p>
				<ul>
					<li><a href="#creating-a-key">Creating a key</a>.</li>
					<li><a href="#getting-a-key">Getting a key</a>.</li>
					<li><a href="#creating-and-updating-keys-with-attributes">Creating and updating keys with attributes</a>.</li>
					<li><a href="#deleting-a-key">Deleting a key</a>.</li>
					<li><a href="#iterating-lists-of-keys">Iterating lists of keys</a>.</li>
				</ul>
				<a href="#creating-a-key" id="creating-a-key" style="color: inherit; text-decoration: none;">
					<h3>Creating a key</h3>
				</a>
				<p><code>createKey</code> creates a Key to be stored in the Azure Key Vault. If a key with
				the same name already exists, then a new version of the key is created.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">const</span> keyName = <span class="hljs-string">"MyKeyName"</span>;

<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> client.createKey(keyName, <span class="hljs-string">"RSA"</span>);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"result: "</span>, result);</code></pre>
				<p>The second parameter sent to <code>createKey</code> is the type of the key. Keys can
				either be of type: <code>EC</code>, <code>EC-HSM</code>, <code>RSA</code> or <code>RSA-HSM</code>.</p>
				<a href="#getting-a-key" id="getting-a-key" style="color: inherit; text-decoration: none;">
					<h3>Getting a key</h3>
				</a>
				<p>The simplest way to read keys back from the vault is to get a key by name. This
					will retrieve the most recent version of the key. You can optionally get a
					different version of the key if you specify it as part of the optional
				parameters.</p>
				<p><code>getKey</code> retrieves a key previous stores in the Key Vault.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">const</span> latestKey = <span class="hljs-keyword">await</span> client.getKey(keyName);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Latest version of the key <span class="hljs-subst">${keyName}</span>: `</span>, getResult);
<span class="hljs-keyword">const</span> specificKey = <span class="hljs-keyword">await</span> client.getKey(keyName, { <span class="hljs-attr">version</span>: latestKey.version! });
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`The key <span class="hljs-subst">${keyName}</span> at the version <span class="hljs-subst">${latestKey.version!}</span>: `</span>, getResult);</code></pre>
				<a href="#creating-and-updating-keys-with-attributes" id="creating-and-updating-keys-with-attributes" style="color: inherit; text-decoration: none;">
					<h3>Creating and updating keys with attributes</h3>
				</a>
				<p>The following attributes can also be assigned to any key in a Key Vault:</p>
				<ul>
					<li><code>tags</code>: Any set of key-values that can be used to search and filter keys.</li>
					<li><code>keyOps</code>: An array of the operations that this key will be able to perform (<code>encrypt</code>, <code>decrypt</code>, <code>sign</code>, <code>verify</code>, <code>wrapKey</code>, <code>unwrapKey</code>).</li>
					<li><code>enabled</code>: A boolean value that determines whether the key value can be read or not.</li>
					<li><code>notBefore</code>: A given date after which the key value can be retrieved.</li>
					<li><code>expires</code>: A given date after which the key value cannot be retrieved.</li>
				</ul>
				<p>An object with these attributes can be sent as the third parameter of
				<code>createKey</code>, right after the key&#39;s name and value, as follows:</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> client.createKey(keyName, <span class="hljs-string">"RSA"</span>, {
  <span class="hljs-attr">enabled</span>: <span class="hljs-literal">false</span>
});</code></pre>
				<p>This will create a new version of the same key, which will have the latest
				provided attributes.</p>
				<p>Attributes can also be updated to an existing key version with
				<code>updateKey</code>, as follows:</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">const</span> result = client.createKey(keyName, <span class="hljs-string">"RSA"</span>);
<span class="hljs-keyword">await</span> client.updateKey(keyName, result.version, {
  <span class="hljs-attr">enabled</span>: <span class="hljs-literal">false</span>
});</code></pre>
				<a href="#deleting-a-key" id="deleting-a-key" style="color: inherit; text-decoration: none;">
					<h3>Deleting a key</h3>
				</a>
				<p>The <code>deleteKey</code> method sets a key up for deletion. This process will
				happen in the background as soon as the necessary resources are available.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">await</span> client.deleteKey(keyName);</code></pre>
				<p>If <a href="https://docs.microsoft.com/en-us/azure/key-vault/key-vault-ovw-soft-delete">soft-delete</a>
					is enabled for the Key Vault, this operation will only label the key as a
					<em>deleted</em> key. A deleted key can&#39;t be updated. They can only be either
				read, recovered or purged.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">await</span> client.deleteKey(keyName);

<span class="hljs-comment">// If soft-delete is enabled, we can eventually do:</span>
<span class="hljs-keyword">await</span> client.getDeletedKey(keyName);
<span class="hljs-comment">// Deleted keys can also be recovered or purged:</span>
<span class="hljs-keyword">await</span> client.recoverDeletedKey(keyName);
<span class="hljs-comment">// await client.purgeDeletedKey(keyName);</span></code></pre>
				<p>Since the deletion of a key won&#39;t happen instantly, some time is needed
					after the <code>deleteKey</code> method is called before the deleted key is
				available to be read, recovered or purged.</p>
				<a href="#cryptography" id="cryptography" style="color: inherit; text-decoration: none;">
					<h2>Cryptography</h2>
				</a>
				<p>This library also offers a set of cryptographic utilities available through
					<code>CryptographyClient</code>. Similar to the <code>KeysClient</code>, <code>CryptographyClient</code> will
					connect to Azure Key Vault with the provided set of credentials. Once
					connected, <code>CryptographyClient</code> can encrypt, decrypt, sign, verify, wrap keys,
				and unwrap keys.</p>
				<p>We can next connect to the key vault service just as we do with the KeysClient.
					We&#39;ll need to copy some settings from the key vault we are
					connecting to into our environment variables. Once they are in our environment,
				we can access them with the following code:</p>
				<pre><code class="language-typescript"><span class="hljs-keyword">import</span> { DefaultAzureCredential } <span class="hljs-keyword">from</span> <span class="hljs-string">"@azure/identity"</span>;
<span class="hljs-keyword">import</span> { KeysClient, CryptographyClient } <span class="hljs-keyword">from</span> <span class="hljs-string">"@azure/keyvault-keys"</span>;

<span class="hljs-comment">// DefaultAzureCredential expects the following three environment variables:</span>
<span class="hljs-comment">// * AZURE_TENANT_ID: The tenant ID in Azure Active Directory</span>
<span class="hljs-comment">// * AZURE_CLIENT_ID: The application (client) ID registered in the AAD tenant</span>
<span class="hljs-comment">// * AZURE_CLIENT_SECRET: The client secret for the registered application</span>
<span class="hljs-keyword">const</span> credential = <span class="hljs-keyword">new</span> DefaultAzureCredential();

<span class="hljs-comment">// Build the URL to reach your key vault</span>
<span class="hljs-keyword">const</span> vaultName = <span class="hljs-string">"&lt;YOUR KEYVAULT NAME&gt;"</span>;
<span class="hljs-keyword">const</span> url = <span class="hljs-string">`https://<span class="hljs-subst">${vaultName}</span>.vault.azure.net`</span>;

<span class="hljs-comment">// Connect to the key vault service</span>
<span class="hljs-keyword">const</span> keysClient = <span class="hljs-keyword">new</span> KeysClient(url, credential);

<span class="hljs-comment">// Create or retrieve a key from the keyvault</span>
<span class="hljs-keyword">let</span> myKey = <span class="hljs-keyword">await</span> keysClient.createKey(<span class="hljs-string">"MyKey"</span>, <span class="hljs-string">"RSA"</span>);

<span class="hljs-comment">// Lastly, create our cryptography client and connect to the service</span>
<span class="hljs-comment">// This example uses the URL that is part of the key we created (called key ID or kid)</span>
<span class="hljs-keyword">const</span> cryptographyClient = <span class="hljs-keyword">new</span> CryptographyClient(url, myKey.keyMaterial!.kid!, credential);</code></pre>
				<a href="#encrypt" id="encrypt" style="color: inherit; text-decoration: none;">
					<h3>Encrypt</h3>
				</a>
				<p><code>encrypt</code> will encrypt a message. The following algorithms are currently supported: &quot;RSA-OAEP&quot;, &quot;RSA-OAEP-256&quot;, and &quot;RSA1_5&quot;.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">const</span> encrypt = <span class="hljs-keyword">await</span> cryptographyClient.encrypt(<span class="hljs-string">"RSA1_5"</span>, Buffer.from(<span class="hljs-string">"My Message"</span>));
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"encrypt result: "</span>, encrypt);</code></pre>
				<a href="#decrypt" id="decrypt" style="color: inherit; text-decoration: none;">
					<h3>Decrypt</h3>
				</a>
				<p><code>decrypt</code> will decrypt an encrypted message. The following algorithms are currently supported: &quot;RSA-OAEP&quot;, &quot;RSA-OAEP-256&quot;, and &quot;RSA1_5&quot;.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">const</span> decrypt = <span class="hljs-keyword">await</span> cryptographyClient.decrypt(<span class="hljs-string">"RSA1_5"</span>, encrypt.result);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"decrypt: "</span>, decrypt.toString());</code></pre>
				<a href="#sign" id="sign" style="color: inherit; text-decoration: none;">
					<h3>Sign</h3>
				</a>
				<p><code>sign</code> will cryptographically sign the digest (hash) of a message with a signature. The following algorithms are currently supported: &quot;PS256&quot;, &quot;PS384&quot;, &quot;PS512&quot;, &quot;RS256&quot;, &quot;RS384&quot;, &quot;RS512&quot;, &quot;ES256&quot;,&quot;ES256K&quot;, &quot;ES384&quot;, and &quot;ES512&quot;.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">const</span> signatureValue = <span class="hljs-string">"MySignature"</span>;
<span class="hljs-keyword">let</span> hash = crypto.createHash(<span class="hljs-string">"sha256"</span>);

hash.update(signatureValue);
<span class="hljs-keyword">let</span> digest = hash.digest();
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"digest: "</span>, digest);

<span class="hljs-keyword">const</span> signature = <span class="hljs-keyword">await</span> cryptoClient.sign(<span class="hljs-string">"RS256"</span>, digest);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"sign result: "</span>, signature);</code></pre>
				<a href="#sign-data" id="sign-data" style="color: inherit; text-decoration: none;">
					<h3>Sign Data</h3>
				</a>
				<p><code>signData</code> will cryptographically sign a message with a signature. The following algorithms are currently supported: &quot;PS256&quot;, &quot;PS384&quot;, &quot;PS512&quot;, &quot;RS256&quot;, &quot;RS384&quot;, &quot;RS512&quot;, &quot;ES256&quot;,&quot;ES256K&quot;, &quot;ES384&quot;, and &quot;ES512&quot;.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">const</span> signature = <span class="hljs-keyword">await</span> cryptoClient.signData(<span class="hljs-string">"RS256"</span>, Buffer.from(<span class="hljs-string">"My Message"</span>));
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"sign result: "</span>, signature);</code></pre>
				<a href="#verify" id="verify" style="color: inherit; text-decoration: none;">
					<h3>Verify</h3>
				</a>
				<p><code>verify</code> will cryptographically verify that the signed digest was signed with the given signature. The following algorithms are currently supported: &quot;PS256&quot;, &quot;PS384&quot;, &quot;PS512&quot;, &quot;RS256&quot;, &quot;RS384&quot;, &quot;RS512&quot;, &quot;ES256&quot;,&quot;ES256K&quot;, &quot;ES384&quot;, and &quot;ES512&quot;.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">const</span> verifyResult = <span class="hljs-keyword">await</span> cryptoClient.verify(<span class="hljs-string">"RS256"</span>, digest, signature.result);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"verify result: "</span>, verifyResult);</code></pre>
				<a href="#verify-data" id="verify-data" style="color: inherit; text-decoration: none;">
					<h3>Verify Data</h3>
				</a>
				<p><code>verifyData</code> will cryptographically verify that the signed message was signed with the given signature. The following algorithms are currently supported: &quot;PS256&quot;, &quot;PS384&quot;, &quot;PS512&quot;, &quot;RS256&quot;, &quot;RS384&quot;, &quot;RS512&quot;, &quot;ES256&quot;,&quot;ES256K&quot;, &quot;ES384&quot;, and &quot;ES512&quot;.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">const</span> buffer = Buffer.from(<span class="hljs-string">"My Message"</span>);
<span class="hljs-keyword">const</span> verifyResult = <span class="hljs-keyword">await</span> cryptoClient.verifyData(<span class="hljs-string">"RS256"</span>, buffer, signature.result);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"verify result: "</span>, verifyResult);</code></pre>
				<a href="#wrap-key" id="wrap-key" style="color: inherit; text-decoration: none;">
					<h3>Wrap Key</h3>
				</a>
				<p><code>wrapKey</code> will wrap a key with an encryption layer. The following algorithms are currently supported: &quot;RSA-OAEP&quot;, &quot;RSA-OAEP-256&quot;, and &quot;RSA1_5&quot;.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">const</span> wrapped = <span class="hljs-keyword">await</span> cryptoClient.wrapKey(<span class="hljs-string">"RSA-OAEP"</span>, keyToWrap);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"wrap result:"</span>, wrapped);</code></pre>
				<a href="#unwrap-key" id="unwrap-key" style="color: inherit; text-decoration: none;">
					<h3>Unwrap Key</h3>
				</a>
				<p><code>unwrapKey</code> will unwrap a wrapped key. The following algorithms are currently supported: &quot;RSA-OAEP&quot;, &quot;RSA-OAEP-256&quot;, and &quot;RSA1_5&quot;.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">const</span> unwrapped = <span class="hljs-keyword">await</span> cryptoClient.unwrapKey(<span class="hljs-string">"RSA-OAEP"</span>, wrapped.result);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"unwrap result: "</span>, unwrapped);</code></pre>
				<a href="#troubleshooting" id="troubleshooting" style="color: inherit; text-decoration: none;">
					<h2>Troubleshooting</h2>
				</a>
				<a href="#enable-logs" id="enable-logs" style="color: inherit; text-decoration: none;">
					<h3>Enable logs</h3>
				</a>
				<p>You can set the following environment variable to get the debug logs when using this library.</p>
				<ul>
					<li>Getting debug logs from the Key Vault Keys SDK</li>
				</ul>
				<pre><code class="language-bash"><span class="hljs-built_in">export</span> DEBUG=azure*</code></pre>
				<a href="#next-steps" id="next-steps" style="color: inherit; text-decoration: none;">
					<h2>Next steps</h2>
				</a>
				<p>Please take a look at the
					<a href="https://github.com/Azure/azure-sdk-for-js/tree/master/sdk/keyvault/keyvault-keys/samples">samples</a>
				directory for detailed examples on how to use this library.</p>
				<a href="#contributing" id="contributing" style="color: inherit; text-decoration: none;">
					<h2>Contributing</h2>
				</a>
				<p>This project welcomes contributions and suggestions. Please read the
					<a href="https://github.com/Azure/azure-sdk-for-js/blob/master/CONTRIBUTING.md">contributing guidelines</a>
				for detailed information about how to contribute and what to expect while contributing.</p>
				<a href="#testing" id="testing" style="color: inherit; text-decoration: none;">
					<h3>Testing</h3>
				</a>
				<p>To run our tests, first install the dependencies (with <code>npm install</code> or <code>rush install</code>),
					then run the unit tests with: <code>npm run unit-test</code>.
					Our unit tests that target the behavior of our library against remotely
					available endpoints are executed using previously recorded HTTP request and
				responses.</p>
				<p>Our integration tests will run against the live resources, which are determined
					by the environment variables you provide. To run the integration tests, you can
					run <code>npm run integration-test</code>, but make sure to provide the following
				environment variables:</p>
				<ul>
					<li><code>AZURE_CLIENT_ID</code>: The Client ID of your Azure account.</li>
					<li><code>AZURE_CLIENT_SECRET</code>: The secret of your Azure account.</li>
					<li><code>AZURE_TENANT_ID</code>: The Tenant ID of your Azure account.</li>
					<li><code>KEYVAULT_NAME</code>: The name of the Key Vault you want to run the tests against.</li>
				</ul>
				<p><strong>WARNING:</strong>
				Integration tests will wipe all of the existing records in the targeted Key Vault.</p>
				<p>This project has adopted the <a href="https://opensource.microsoft.com/codeofconduct/">Microsoft Open Source Code of Conduct</a>.
					For more information see the <a href="https://opensource.microsoft.com/codeofconduct/faq/">Code of Conduct FAQ</a> or
				contact <a href="mailto:opencode@microsoft.com">opencode@microsoft.com</a> with any additional questions or comments.</p>
				<p><img src="https://azure-sdk-impressions.azurewebsites.net/api/impressions/azure-sdk-for-js/sdk/keyvault/keyvault-keys/README.png" alt="Impressions"></p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class">
						<a href="classes/cryptographyclient.html" class="tsd-kind-icon">Cryptography<wbr>Client</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/keysclient.html" class="tsd-kind-icon">Keys<wbr>Client</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/createeckeyoptions.html" class="tsd-kind-icon">Create<wbr>EcKey<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/createkeyoptions.html" class="tsd-kind-icon">Create<wbr>Key<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/creatersakeyoptions.html" class="tsd-kind-icon">Create<wbr>Rsa<wbr>Key<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/decryptoptions.html" class="tsd-kind-icon">Decrypt<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/decryptresult.html" class="tsd-kind-icon">Decrypt<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/deletedkey.html" class="tsd-kind-icon">Deleted<wbr>Key</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/encryptoptions.html" class="tsd-kind-icon">Encrypt<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/encryptresult.html" class="tsd-kind-icon">Encrypt<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/getkeyoptions.html" class="tsd-kind-icon">Get<wbr>Key<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/importkeyoptions.html" class="tsd-kind-icon">Import<wbr>Key<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/key.html" class="tsd-kind-icon">Key</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/keyattributes.html" class="tsd-kind-icon">Key<wbr>Attributes</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/listkeysoptions.html" class="tsd-kind-icon">List<wbr>Keys<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/requestoptions.html" class="tsd-kind-icon">Request<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/signresult.html" class="tsd-kind-icon">Sign<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/unwrapresult.html" class="tsd-kind-icon">Unwrap<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/updatekeyoptions.html" class="tsd-kind-icon">Update<wbr>Key<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/verifyresult.html" class="tsd-kind-icon">Verify<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/wrapresult.html" class="tsd-kind-icon">Wrap<wbr>Result</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#keysignaturealgorithm" class="tsd-kind-icon">Key<wbr>Signature<wbr>Algorithm</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#keywrapalgorithm" class="tsd-kind-icon">Key<wbr>Wrap<wbr>Algorithm</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
				<li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>